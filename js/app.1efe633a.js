(function(t){function n(n){for(var r,c,u=n[0],i=n[1],d=n[2],s=0,l=[];s<u.length;s++)c=u[s],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&l.push(o[c][0]),o[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);p&&p(n);while(l.length)l.shift()();return a.push.apply(a,d||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],r=!0,c=1;c<e.length;c++){var u=e[c];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),t=i(i.s=e[0]))}return t}var r={},c={app:0},o={app:0},a=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-0094aaf8":"9a084735","chunk-02e1c53e":"0e1d8ed2","chunk-0d487f5e":"6872542c","chunk-51e7d38e":"5f941146","chunk-54acdd66":"e790f2e5","chunk-597ee8f9":"acd47fb6","chunk-5adc4976":"ec9b9ef5","chunk-6a9dde3d":"2c4f48d6","chunk-7b421b04":"f76b8a72","chunk-82f71a28":"78bf1966","chunk-a9486dea":"30b41b2a","chunk-ccc86328":"b19d2444","chunk-db1c368e":"910741a1"}[t]+".js"}function i(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.e=function(t){var n=[],e={"chunk-0094aaf8":1,"chunk-02e1c53e":1,"chunk-0d487f5e":1,"chunk-51e7d38e":1,"chunk-54acdd66":1,"chunk-597ee8f9":1,"chunk-5adc4976":1,"chunk-6a9dde3d":1,"chunk-7b421b04":1,"chunk-82f71a28":1,"chunk-a9486dea":1,"chunk-ccc86328":1,"chunk-db1c368e":1};c[t]?n.push(c[t]):0!==c[t]&&e[t]&&n.push(c[t]=new Promise((function(n,e){for(var r="css/"+({}[t]||t)+"."+{"chunk-0094aaf8":"6859f88e","chunk-02e1c53e":"80038373","chunk-0d487f5e":"5eb6e282","chunk-51e7d38e":"92cf6ae2","chunk-54acdd66":"da445e07","chunk-597ee8f9":"1852ee9a","chunk-5adc4976":"6b666678","chunk-6a9dde3d":"6610bab8","chunk-7b421b04":"39355d58","chunk-82f71a28":"4db087c2","chunk-a9486dea":"a7a55efc","chunk-ccc86328":"a40e37fd","chunk-db1c368e":"829984e8"}[t]+".css",o=i.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var d=a[u],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===r||s===o))return n()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){d=l[u],s=d.getAttribute("data-href");if(s===r||s===o)return n()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=n,p.onerror=function(n){var r=n&&n.target&&n.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete c[t],p.parentNode.removeChild(p),e(a)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){c[t]=0})));var r=o[t];if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,e){r=o[t]=[n,e]}));n.push(r[2]=a);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=u(t);var l=new Error;d=function(n){s.onerror=s.onload=null,clearTimeout(p);var e=o[t];if(0!==e){if(e){var r=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,e[1](l)}o[t]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(n)},i.m=t,i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/miao/",i.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var p=s;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"4ec3":function(t,n,e){"use strict";e.d(n,"v",(function(){return a})),e.d(n,"u",(function(){return u})),e.d(n,"h",(function(){return i})),e.d(n,"i",(function(){return d})),e.d(n,"r",(function(){return s})),e.d(n,"p",(function(){return l})),e.d(n,"q",(function(){return p})),e.d(n,"e",(function(){return f})),e.d(n,"f",(function(){return m})),e.d(n,"d",(function(){return h})),e.d(n,"c",(function(){return g})),e.d(n,"g",(function(){return b})),e.d(n,"j",(function(){return v})),e.d(n,"a",(function(){return k})),e.d(n,"b",(function(){return A})),e.d(n,"n",(function(){return P})),e.d(n,"m",(function(){return O})),e.d(n,"o",(function(){return y})),e.d(n,"k",(function(){return N})),e.d(n,"l",(function(){return T})),e.d(n,"t",(function(){return U})),e.d(n,"s",(function(){return S}));e("99af");var r=e("bc3a"),c=e.n(r),o={shortUrl:"".concat("https://vue-course-api.hexschool.io"),longUrl:"".concat("https://vue-course-api.hexschool.io","/api/").concat("teisha")};function a(){return c()({url:"".concat(o.shortUrl,"/logout"),method:"post"})}function u(t){return c()({url:"".concat(o.shortUrl,"/admin/signin"),method:"post",data:t})}function i(t){return c()({url:"".concat(o.longUrl,"/admin/orders?page=").concat(t),method:"get"})}function d(t,n){return c()({url:"".concat(o.longUrl,"/admin/order/").concat(t),method:"put",data:n})}function s(t){return c()({url:"".concat(o.longUrl,"/admin/coupons?page=").concat(t),method:"get"})}function l(t){return c()({url:"".concat(o.longUrl,"/admin/coupon"),method:"post",data:t})}function p(t,n){return c()({url:"".concat(o.longUrl,"/admin/coupon/").concat(t),method:"put",data:n})}function f(t){return c()({url:"".concat(o.longUrl,"/admin/products?page=").concat(t),method:"get"})}function m(t){return c()({url:"".concat(o.longUrl,"/admin/product"),method:"post",data:t})}function h(t,n){return c()({url:"".concat(o.longUrl,"/admin/product/").concat(t),method:"put",data:n})}var g=function(t){return"".concat(o.longUrl,"/admin/product/").concat(t)};function b(t){return c()({url:"".concat(o.longUrl,"/admin/upload"),method:"post",data:t})}function v(){return c()({url:"".concat(o.longUrl,"/cart"),method:"get"})}function k(t){return c()({url:"".concat(o.longUrl,"/cart"),method:"post",data:t})}function A(t){return c()({url:"".concat(o.longUrl,"/cart"),method:"post",data:t})}var P=function(t){return"".concat(o.longUrl,"/cart/").concat(t)};function O(t){return c()({url:"".concat(o.longUrl,"/coupon"),method:"post",data:t})}function y(t){return c()({url:"".concat(o.longUrl,"/order"),method:"post",data:t})}function N(t){return c()({url:"".concat(o.longUrl,"/order/").concat(t),method:"get"})}function T(t){return c()({url:"".concat(o.longUrl,"/pay/").concat(t),method:"post"})}function U(t){return c()({url:"".concat(o.longUrl,"/product/").concat(t),method:"get"})}function S(){return c()({url:"".concat(o.longUrl,"/products/all"),method:"get"})}},"56d7":function(t,n,e){"use strict";e.r(n);e("4de4"),e("e623"),e("e379"),e("5dc8"),e("37e1");var r=e("2b0e"),c=e("bc3a"),o=e.n(c),a=e("a7fe"),u=e.n(a),i=(e("4989"),e("9062")),d=e.n(i),s=e("77ed"),l=e.n(s),p=(e("e40d"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"min-vh-100",attrs:{id:"app"}},[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(n){t.isLoading=n}}})],1),e("router-view")],1)}),f=[],m={computed:{isLoading:function(){return this.$store.state.isLoading}}},h=m,g=(e("5c0b"),e("2877")),b=Object(g["a"])(h,p,f,!1,null,null,null),v=b.exports,k=(e("d3b7"),e("8c4f"));r["a"].use(k["a"]);var A=[{path:"/",component:function(){return e.e("chunk-6a9dde3d").then(e.bind(null,"bb51"))},children:[{path:"",name:"index",component:function(){return e.e("chunk-597ee8f9").then(e.bind(null,"aab2"))}},{path:"product",name:"product",redirect:"product/all"},{path:"product/:id",name:"product0",component:function(){return e.e("chunk-ccc86328").then(e.bind(null,"4d5c"))}},{path:"product2/:id",name:"product2",component:function(){return e.e("chunk-82f71a28").then(e.bind(null,"602b"))}},{path:"coupon",name:"coupon",component:function(){return e.e("chunk-54acdd66").then(e.bind(null,"d129"))}},{path:"cart",component:function(){return e.e("chunk-7b421b04").then(e.bind(null,"34a4"))},children:[{path:"",name:"step1",component:function(){return e.e("chunk-a9486dea").then(e.bind(null,"f805"))}},{path:":orderId",name:"step2",component:function(){return e.e("chunk-02e1c53e").then(e.bind(null,"9186"))}}]}]},{path:"/login",name:"login",component:function(){return e.e("chunk-5adc4976").then(e.bind(null,"2db9"))}},{path:"/admin",component:function(){return e.e("chunk-0094aaf8").then(e.bind(null,"b866"))},meta:{requiresAuth:!0},children:[{path:"",name:"admin_product",component:function(){return e.e("chunk-51e7d38e").then(e.bind(null,"c0da"))},meta:{requiresAuth:!0}},{path:"admin_book",name:"admin_book",component:function(){return e.e("chunk-0d487f5e").then(e.bind(null,"caad3"))},meta:{requiresAuth:!0}},{path:"admin_coupon",name:"admin_coupon",component:function(){return e.e("chunk-db1c368e").then(e.bind(null,"adc8"))},meta:{requiresAuth:!0}}]},{path:"*",redirect:"/"}],P=new k["a"]({routes:A}),O=P,y=e("2f62"),N=(e("4160"),e("d81d"),e("a9e3"),e("159b"),e("5530")),T=(e("96cf"),e("1da1")),U=e("2ef0"),S=e.n(U),E=e("4ec3"),w={strict:!0,namespaced:!0,state:{dataProduct2:{category:"",content:"",description:"",id:"",image:"",imageUrl:"",is_enabled:0,num:0,origin_price:"",price:"",title:"",unit:""},selectNum2:1,allProducts:[],products:[],pagination:{pageAry:[],perPage:6,total_pages:1,current_page:1},categoryItem:[{value:"all",label:"全部商品"},{value:"can",label:"罐頭"},{value:"dryFood",label:"乾糧"},{value:"snack",label:"零食"},{value:"nutrition",label:"營養品"}]},mutations:{DATAPRODUCT2:function(t,n){t.dataProduct2=n},SELECTNUM2:function(t,n){t.selectNum2=n},ALLPRODUCTS:function(t,n){t.allProducts=n},PRODUCTS:function(t,n){t.products=n},PAGINATION:function(t,n){t.pagination=n}},actions:{changeNum:function(t,n){var e=Number(t.state.selectNum2);n<0&&e<=1?t.commit("SELECTNUM2",1):t.commit("SELECTNUM2",e+n)},resetNum:function(t){t.commit("SELECTNUM2",1)},getProduct2:function(t,n){return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit("LOADING",!0,{root:!0}),e.next=3,Object(E["t"])(n).then((function(n){t.commit("LOADING",!1,{root:!0}),n.data.success&&t.commit("DATAPRODUCT2",n.data.product)}));case 3:case"end":return e.stop()}}),e)})))()},getProduct:function(t,n){return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("LOADING",!0,{root:!0}),Object(E["s"])().then((function(e){if(t.commit("LOADING",!1,{root:!0}),e.data.success){var r=e.data.products,c=[];r.forEach((function(t){t.is_enabled&&c.push(t)})),t.commit("ALLPRODUCTS",c),t.dispatch({type:"selectCategory",style:n,isPageClick:!1})}}));case 2:case"end":return e.stop()}}),e)})))()},selectCategory:function(t,n){var e=n.style;n.isPageClick;t.commit("PRODUCTS",[]),t.commit("PAGINATION",{perPage:6,total_pages:1,current_page:1,pageAry:[]});var r="all"===e?t.state.allProducts:S.a.filter(t.state.allProducts,["category",t.getters.categoryItemObject[e]]);t.commit("PRODUCTS",r),t.dispatch("productPage")},productPage:function(t){for(var n=[],e=0;e<t.state.products.length;e++){for(var r=[],c=e*t.state.pagination.perPage;c<(e+1)*t.state.pagination.perPage;c++)void 0!==t.state.products[c]&&r.push(t.state.products[c]);0!==r.length&&n.push(r)}var o=Object(N["a"])({},t.state.pagination);o.pageAry=n,o.total_pages=n.length,t.commit("PAGINATION",o)},clickPage:function(t,n){var e=Object(N["a"])({},t.state.pagination);e.current_page=n,t.commit("PAGINATION",e)}},getters:{dataProduct2:function(t){return t.dataProduct2},selectNum2:function(t){return t.selectNum2},categoryItemObject:function(t){var n=S.a.zipObject(S.a.map(t.categoryItem,"value"),S.a.map(t.categoryItem,"label"));return n},products:function(t){return t.products},categoryItem:function(t){return t.categoryItem},pagination:function(t){return t.pagination},similarProduct:function(t){var n=t.dataProduct2.category,e=[];return t.allProducts.forEach((function(r){r.id!==t.dataProduct2.id&&r.category===n&&e.length<4&&e.push(r)})),e}}},C={strict:!0,namespaced:!0,state:{cartBtnNum:0},mutations:{CARTBRNNUM:function(t,n){t.cartBtnNum=n}},actions:{cartBtnApi:function(t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:Object(E["j"])().then((function(n){n.data.success&&t.commit("CARTBRNNUM",n.data.data.carts.length)}));case 1:case"end":return n.stop()}}),n)})))()},AddCart:function(t,n){return Object(T["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={product_id:n.id,qty:1},t.commit("LOADING",!0,{root:!0}),Object(E["a"])({data:r}).then((function(n){n.data.success&&(t.commit("LOADING",!1,{root:!0}),t.dispatch("cartBtnApi"))}));case 3:case"end":return e.stop()}}),e)})))()},addCartBtn:function(t){return Object(T["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.commit("LOADING",!0,{root:!0}),e={product_id:t.rootState.ProductModules.dataProduct2.id,qty:t.rootState.ProductModules.selectNum2},Object(E["b"])({data:e}).then((function(n){t.commit("LOADING",!1,{root:!0}),n.data.success&&(t.commit("ProductModules/DATAPRODUCT2",n.data.data.product,{root:!0}),t.dispatch("cartBtnApi"))}));case 3:case"end":return n.stop()}}),n)})))()}}},D={strict:!0,namespaced:!0,state:{nowStep:1,step1DataAPI:{}},mutations:{NOWSTEP:function(t,n){t.nowStep=n},STEP1DATAAPI:function(t,n){t.step1DataAPI=n}}},I={strict:!0,namespaced:!0,state:{adminProductData:[],adminProductPage:{current_page:1,total_pages:1},tempProduct:{title:"",category:"",origin_price:0,price:0,unit:"",image:"",description:"",content:"這是內容",is_enabled:0,imageUrl:""},addNew:!1,status:{fileUpLoading:!1}},mutations:{ADMIN_PRODUCT_DATA:function(t,n){t.adminProductData=n},ADMIN_PRODUCT_PAGE:function(t,n){t.adminProductPage=n},TEMP_PRODUCT:function(t,n){t.tempProduct=n},ADD_NEW:function(t,n){t.addNew=n},STATUS:function(t,n){t.fileUpLoading=n}}},L=(e("a434"),{strict:!0,namespaced:!0,state:{messages:[]},mutations:{MESSAGES:function(t,n){t.messages.push(n)},REMOVEMESSAGETIMING:function(t,n){setTimeout((function(){t.messages.forEach((function(e,r){e.timestamp===n&&t.messages.splice(r,1)}))}),5e3)},CLOSEMESSAHE:function(t,n){t.messages.splice(n,1)}},actions:{updateMsg:function(t,n){var e=Math.floor(new Date/1e3);n.timestamp=e,t.commit("MESSAGES",n),t.commit("LOADING",!1,{root:!0}),t.commit("REMOVEMESSAGETIMING",e)}}});r["a"].use(y["a"]);var _=new y["a"].Store({strict:!0,state:{isLoading:!1,backSmToggle:!1},mutations:{LOADING:function(t,n){t.isLoading=n},BACKSMTOGGLE:function(t,n){t.backSmToggle=n}},actions:{updateLoading:function(t,n){t.commit("LOADING",n)},backSmToggle:function(t,n){t.commit("BACKSMTOGGLE",n)}},modules:{ProductModules:w,AddCartModules:C,CartStepModules:D,AdminProductModules:I,AlertMessageModules:L}}),M=(e("b680"),e("ac1f"),e("5319"),function(t){var n=Number(t);return"$".concat(n.toFixed(0).replace(/./g,(function(t,n,e){var r=n&&"."!==t&&(e.length-n)%3===0?", ".concat(t).replace(/\s/g,""):t;return r})))});r["a"].config.productionTip=!1,r["a"].use(u.a,o.a,l.a),r["a"].filter("currency",M),o.a.defaults.withCredentials=!0,r["a"].component("Loading",d.a),new r["a"]({router:O,store:_,render:function(t){return t(v)}}).$mount("#app"),O.beforeEach((function(t,n,e){if(t.meta.requiresAuth){var r="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(r).then((function(t){t.data.success?e():(alert("請先登入"),e({path:"/login"}))}))}else e()}))},"5c0b":function(t,n,e){"use strict";var r=e("9c0c"),c=e.n(r);c.a},"9c0c":function(t,n,e){}});
//# sourceMappingURL=app.1efe633a.js.map
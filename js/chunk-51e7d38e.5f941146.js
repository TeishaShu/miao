(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51e7d38e"],{"5cd7":function(t,e,a){"use strict";var s=a("7cef"),i=a.n(s);i.a},"7cef":function(t,e,a){},8832:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(s){if(a[s])return a[s].exports;var i=a[s]={exports:{},id:s,loaded:!1};return t[s].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(1),r=s(i);t.exports=r.default},function(t,e,a){a(2);var s=a(6)(a(7),a(8),"data-v-82963a40",null);t.exports=s.exports},function(t,e,a){var s=a(3);"string"==typeof s&&(s=[[t.id,s,""]]),a(5)(s,{}),s.locals&&(t.exports=s.locals)},function(t,e,a){e=t.exports=a(4)(),e.push([t.id,"a[data-v-82963a40]{cursor:pointer}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var a=this[e];a[2]?t.push("@media "+a[2]+"{"+a[1]+"}"):t.push(a[1])}return t.join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(s[r]=!0)}for(i=0;i<e.length;i++){var n=e[i];"number"==typeof n[0]&&s[n[0]]||(a&&!n[2]?n[2]=a:a&&(n[2]="("+n[2]+") and ("+a+")"),t.push(n))}},t}},function(t,e,a){function s(t,e){for(var a=0;a<t.length;a++){var s=t[a],i=u[s.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](s.parts[r]);for(;r<s.parts.length;r++)i.parts.push(d(s.parts[r],e))}else{var n=[];for(r=0;r<s.parts.length;r++)n.push(d(s.parts[r],e));u[s.id]={id:s.id,refs:1,parts:n}}}}function i(t){for(var e=[],a={},s=0;s<t.length;s++){var i=t[s],r=i[0],n=i[1],o=i[2],d=i[3],c={css:n,media:o,sourceMap:d};a[r]?a[r].parts.push(c):e.push(a[r]={id:r,parts:[c]})}return e}function r(t,e){var a=f(),s=v[v.length-1];if("top"===t.insertAt)s?s.nextSibling?a.insertBefore(e,s.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(e)}}function n(t){t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function d(t,e){var a,s,i;if(e.singleton){var r=h++;a=g||(g=o(e)),s=c.bind(null,a,r,!1),i=c.bind(null,a,r,!0)}else a=o(e),s=l.bind(null,a),i=function(){n(a)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else i()}}function c(t,e,a,s){var i=a?"":s.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(r,n[e]):t.appendChild(r)}}function l(t,e){var a=e.css,s=e.media,i=e.sourceMap;if(s&&t.setAttribute("media",s),i&&(a+="\n/*# sourceURL="+i.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var u={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=p((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),f=p((function(){return document.head||document.getElementsByTagName("head")[0]})),g=null,h=0,v=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var a=i(t);return s(a,e),function(t){for(var r=[],n=0;n<a.length;n++){var o=a[n],d=u[o.id];d.refs--,r.push(d)}if(t){var c=i(t);s(c,e)}for(n=0;n<r.length;n++){d=r[n];if(0===d.refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete u[d.id]}}}};var b=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e,a,s){var i,r=t=t||{},n=typeof t.default;"object"!==n&&"function"!==n||(i=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),s){var d=o.computed||(o.computed={});Object.keys(s).forEach((function(t){var e=s[t];d[t]=function(){return e}}))}return{esModule:i,exports:r,options:o}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(t){this.innerValue=t}},pages:function(){var t=this,e={};if(this.pageCount<=this.pageRange)for(var a=0;a<this.pageCount;a++){var s={index:a,content:a+1,selected:a===this.selected-1};e[a]=s}else{for(var i=Math.floor(this.pageRange/2),r=function(a){var s={index:a,content:a+1,selected:a===t.selected-1};e[a]=s},n=function(t){var a={disabled:!0,breakView:!0};e[t]=a},o=0;o<this.marginPages;o++)r(o);var d=0;this.selected-i>0&&(d=this.selected-1-i);var c=d+this.pageRange-1;c>=this.pageCount&&(c=this.pageCount-1,d=c-this.pageRange+1);for(var l=d;l<=c&&l<=this.pageCount-1;l++)r(l);d>this.marginPages&&n(d-1),c+1<this.pageCount-this.marginPages&&n(c+1);for(var u=this.pageCount-1;u>=this.pageCount-this.marginPages;u--)r(u)}return e}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(t){this.selected!==t&&(this.innerValue=t,this.$emit("input",t),this.clickHandler(t))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.noLiSurround?a("div",{class:t.containerClass},[t.firstLastButton?a("a",{class:[t.pageLinkClass,t.firstPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.firstButtonText)},on:{click:function(e){t.selectFirstPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.selectFirstPage():null}}}):t._e(),t._v(" "),t.firstPageSelected()&&t.hidePrevNext?t._e():a("a",{class:[t.prevLinkClass,t.firstPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.prevText)},on:{click:function(e){t.prevPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.prevPage():null}}}),t._v(" "),t._l(t.pages,(function(e){return[e.breakView?a("a",{class:[t.pageLinkClass,t.breakViewLinkClass,e.disabled?t.disabledClass:""],attrs:{tabindex:"0"}},[t._t("breakViewContent",[t._v(t._s(t.breakViewText))])],2):e.disabled?a("a",{class:[t.pageLinkClass,e.selected?t.activeClass:"",t.disabledClass],attrs:{tabindex:"0"}},[t._v(t._s(e.content))]):a("a",{class:[t.pageLinkClass,e.selected?t.activeClass:""],attrs:{tabindex:"0"},on:{click:function(a){t.handlePageSelected(e.index+1)},keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13)?void t.handlePageSelected(e.index+1):null}}},[t._v(t._s(e.content))])]})),t._v(" "),t.lastPageSelected()&&t.hidePrevNext?t._e():a("a",{class:[t.nextLinkClass,t.lastPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.nextText)},on:{click:function(e){t.nextPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.nextPage():null}}}),t._v(" "),t.firstLastButton?a("a",{class:[t.pageLinkClass,t.lastPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.lastButtonText)},on:{click:function(e){t.selectLastPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.selectLastPage():null}}}):t._e()],2):a("ul",{class:t.containerClass},[t.firstLastButton?a("li",{class:[t.pageClass,t.firstPageSelected()?t.disabledClass:""]},[a("a",{class:t.pageLinkClass,attrs:{tabindex:t.firstPageSelected()?-1:0},domProps:{innerHTML:t._s(t.firstButtonText)},on:{click:function(e){t.selectFirstPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.selectFirstPage():null}}})]):t._e(),t._v(" "),t.firstPageSelected()&&t.hidePrevNext?t._e():a("li",{class:[t.prevClass,t.firstPageSelected()?t.disabledClass:""]},[a("a",{class:t.prevLinkClass,attrs:{tabindex:t.firstPageSelected()?-1:0},domProps:{innerHTML:t._s(t.prevText)},on:{click:function(e){t.prevPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.prevPage():null}}})]),t._v(" "),t._l(t.pages,(function(e){return a("li",{class:[t.pageClass,e.selected?t.activeClass:"",e.disabled?t.disabledClass:"",e.breakView?t.breakViewClass:""]},[e.breakView?a("a",{class:[t.pageLinkClass,t.breakViewLinkClass],attrs:{tabindex:"0"}},[t._t("breakViewContent",[t._v(t._s(t.breakViewText))])],2):e.disabled?a("a",{class:t.pageLinkClass,attrs:{tabindex:"0"}},[t._v(t._s(e.content))]):a("a",{class:t.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(a){t.handlePageSelected(e.index+1)},keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13)?void t.handlePageSelected(e.index+1):null}}},[t._v(t._s(e.content))])])})),t._v(" "),t.lastPageSelected()&&t.hidePrevNext?t._e():a("li",{class:[t.nextClass,t.lastPageSelected()?t.disabledClass:""]},[a("a",{class:t.nextLinkClass,attrs:{tabindex:t.lastPageSelected()?-1:0},domProps:{innerHTML:t._s(t.nextText)},on:{click:function(e){t.nextPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.nextPage():null}}})]),t._v(" "),t.firstLastButton?a("li",{class:[t.pageClass,t.lastPageSelected()?t.disabledClass:""]},[a("a",{class:t.pageLinkClass,attrs:{tabindex:t.lastPageSelected()?-1:0},domProps:{innerHTML:t._s(t.lastButtonText)},on:{click:function(e){t.selectLastPage()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.selectLastPage():null}}})]):t._e()],2)},staticRenderFns:[]}}])}))},c0da:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AlertMessage"),a("a",{staticClass:"add",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openModel(!0)}}},[t._v("建立新產品")]),a("div",{staticClass:"table-responsive"},[a("table",[t._m(0),a("tbody",t._l(t.adminProductData,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.num))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t._f("currency")(e.origin_price))+" ")]),a("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t._f("currency")(e.price))+" ")]),a("td",{staticClass:"state"},[e.is_enabled?a("i",{staticClass:"fas fa-check-circle okGreen"}):a("i",{staticClass:"fas fa-minus-circle noRed"})]),a("td",[a("a",{staticClass:"edit",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openModel(!1,e)}}},[t._v("編輯")]),a("a",{staticClass:"del",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.delOpen(e)}}},[t._v("刪除")])])])})),0)])]),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.addNew?"建立新產品":"編輯產品資訊"))])]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("*輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"image",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileUpLoading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{id:"customFile",type:"file"},on:{change:t.upImg}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,alt:"產品圖"}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"titlePro"}},[t._v("*標題")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.title,expression:"tempProduct.title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"titlePro",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("*分類")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.category,expression:"tempProduct.category",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.unit,expression:"tempProduct.unit",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("*原價")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("*售價")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.price,expression:"tempProduct.price",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.tempProduct.description,expression:"tempProduct.description",modifiers:{trim:!0}}],staticClass:"form-control",staticStyle:{height:"100px"},attrs:{id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&t.$set(t.tempProduct,"is_enabled",a.concat([r])):n>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v(" 確認 ")])])])])]),a("div",{staticClass:"col-md-12 pageOut"},[t.adminProductPage.current_page?a("paginate",{attrs:{"page-count":t.adminProductPage.total_pages,"prev-text":"<","next-text":">","page-range":3,"click-handler":t.api},model:{value:t.adminProductPage.current_page,callback:function(e){t.$set(t.adminProductPage,"current_page",e)},expression:"adminProductPage.current_page"}}):t._e()],1),a("DelModal",{attrs:{"title-type":"產品",api:t.delApi,"product-name":t.deleteProductName,"reload-api":"AdminGet","admin-product-page":t.adminProductPage}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"30"}}),a("th",{attrs:{width:"100"}},[t._v(" 分類 ")]),a("th",[t._v("名稱")]),a("th",{attrs:{width:"120"}},[t._v(" 原價 ")]),a("th",{attrs:{width:"120"}},[t._v(" 售價 ")]),a("th",{attrs:{width:"150"}},[t._v(" 是否啟用 ")]),a("th",{attrs:{width:"120"}},[t._v(" 編輯 ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{staticStyle:{color:"#fff"},attrs:{"aria-hidden":"true"}},[t._v("×")])])}],r=a("5530"),n=a("8832"),o=a.n(n),d=a("eaab"),c=a("dcdb"),l=a("1157"),u=a.n(l),p=a("4ec3"),m={components:{Paginate:o.a,DelModal:d["a"],AlertMessage:c["a"]},data:function(){return{delItem:{},delApi:"",deleteProductName:""}},computed:{adminProductData:function(){return this.$store.state.AdminProductModules.adminProductData},adminProductPage:function(){return this.$store.state.AdminProductModules.adminProductPage},tempProduct:function(){return this.$store.state.AdminProductModules.tempProduct},addNew:function(){return this.$store.state.AdminProductModules.addNew},status:function(){return this.$store.state.AdminProductModules.status}},created:function(){this.api()},methods:{api:function(){var t=this;this.$store.dispatch("updateLoading",!0),Object(p["e"])(this.adminProductPage.current_page).then((function(e){t.$store.dispatch("updateLoading",!1),t.$store.dispatch("backSmToggle",!1),t.$store.commit("AdminProductModules/ADMIN_PRODUCT_DATA",e.data.products),t.$store.commit("AdminProductModules/ADMIN_PRODUCT_PAGE",e.data.pagination)}))},openModel:function(t,e){if(this.$store.commit("AdminProductModules/ADD_NEW",t),this.addNew){var a={title:"",category:"",origin_price:0,price:0,unit:"",image:"",description:"",content:"這是內容",is_enabled:0,imageUrl:""};this.$store.commit("AdminProductModules/TEMP_PRODUCT",a)}else this.$store.commit("AdminProductModules/TEMP_PRODUCT",Object(r["a"])({},e));u()("#productModal").modal("show")},updateProduct:function(){var t=this;if(this.$store.dispatch("updateLoading",!0),""===this.tempProduct.title||""===this.tempProduct.category||""===this.tempProduct.origin_price||""===this.tempProduct.price||""===this.tempProduct.imageUrl){var e={fontawesome:"fa-times",message:"請正確填寫資料",status:"danger"};return this.$store.dispatch("AlertMessageModules/updateMsg",e),void this.$store.dispatch("updateLoading",!1)}this.addNew?Object(p["f"])({data:this.tempProduct}).then((function(e){t.$store.dispatch("updateLoading",!1),t.api()})):Object(p["d"])(this.tempProduct.id,{data:this.tempProduct}).then((function(e){if(e.data.success){var a={fontawesome:"fa-check",message:e.data.message,status:"success"};t.$store.dispatch("AlertMessageModules/updateMsg",a),t.$store.dispatch("updateLoading",!1),t.api()}})),u()("#productModal").modal("hide")},delOpen:function(t){this.delApi=Object(p["c"])(t.id),this.deleteProductName=t.title,u()("#delModal").modal("show")},upImg:function(){var t=this;this.$store.commit("AdminProductModules/STATUS",!0);var e=this.$refs.files.files[0],a=new FormData;a.append("file-to-upload",e),Object(p["g"])(a).then((function(e){if(t.$store.commit("AdminProductModules/STATUS",!1),e.data.success)t.$set(t.tempProduct,"imageUrl",e.data.imageUrl);else{var a={fontawesome:"fa-times",message:e.data.message,status:"danger"};t.$store.dispatch("AlertMessageModules/updateMsg",a)}}))}}},f=m,g=(a("ca76"),a("2877")),h=Object(g["a"])(f,s,i,!1,null,"c9e28c88",null);e["default"]=h.exports},ca76:function(t,e,a){"use strict";var s=a("cdb7"),i=a.n(s);i.a},cdb7:function(t,e,a){},dcdb:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible fade show",class:"alert-"+e.status,attrs:{role:"alert"}},[a("i",{staticClass:"fa pr-2",class:e.fontawesome,attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(e.message))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.closeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r={computed:{messages:function(){return this.$store.state.AlertMessageModules.messages}},methods:{closeMessage:function(t){this.$store.commit("AlertMessageModules/CLOSEMESSAHE",t)}}},n=r,o=(a("5cd7"),a("2877")),d=Object(o["a"])(n,s,i,!1,null,null,null);e["a"]=d.exports},eaab:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("b",[t._v("刪除"+t._s(t.titleType))])]),t._m(0)]),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除"+t._s(t.titleType)+" (刪除後將無法恢復)"),a("br"),a("strong",{staticClass:"text-danger"},[t._v("「"+t._s(t.productName)+"」")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary cancelBtn",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-danger confirm",attrs:{type:"button"},on:{click:function(e){return t.delSend()}}},[t._v(" 確認刪除 ")])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])}],r=(a("96cf"),a("1da1")),n=a("1157"),o=a.n(n),d=a("4ec3"),c={props:{titleType:{type:String,required:!0},api:{type:String,required:!0},productName:{type:String,required:!0},reloadApi:{type:String,required:!0},adminProductPage:{type:Object,default:function(){}}},methods:{delSend:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,o()("#delModal button").prop("disabled",!0),e.next=4,a.$http.delete(a.api).then((function(e){t.reloadPage()}));case 4:o()("#delModal").modal("hide"),o()("#delModal button").prop("disabled",!1);case 6:case"end":return e.stop()}}),e)})))()},reloadPage:function(){switch(this.reloadApi){case"Cart":this.cartApi();break;case"AdminGet":this.adminProductApi();break;case"CouponGet":this.adminCoupon();break}},cartApi:function(){var t=this;Object(d["j"])().then((function(e){t.$store.dispatch("updateLoading",!1),e.data.success&&(t.$store.commit("CartStepModules/STEP1DATAAPI",e.data.data),t.$store.commit("CartStepModules/NOWSTEP",1))}))},adminProductApi:function(){var t=this;Object(d["e"])(this.adminProductPage.current_page).then((function(e){t.$store.dispatch("updateLoading",!1),t.$store.dispatch("backSmToggle",!1),t.$store.commit("AdminProductModules/ADMIN_PRODUCT_DATA",e.data.products),t.$store.commit("AdminProductModules/ADMIN_PRODUCT_PAGE",e.data.pagination)}))},adminCoupon:function(){var t=this;Object(d["r"])(this.dataPage.current_page).then((function(e){e.data.success&&(t.$store.dispatch("updateLoading",!1),t.$store.dispatch("backSmToggle",!1),t.couponsData=e.data.coupons,t.dataPage=e.data.pagination)}))}}},l=c,u=a("2877"),p=Object(u["a"])(l,s,i,!1,null,null,null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-51e7d38e.5f941146.js.map